!function(n){function t(n){if(null!=n.match(/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/)){n.substring(0,2),n.substring(3,6),n.substring(7,10),n.substring(11,15),n.substring(16,18);return l(n.substring(0,2),n.substring(3,6),n.substring(7,10),n.substring(11,15),n.substring(16,18))}return!1}function i(n){return null!=n.match(/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/)&&u(n.substring(0,3),n.substring(4,7),n.substring(8,11),n.substring(12,14))}function r(n){if(null!=n.match(/^\d{14}$/)){n.substring(0,2),n.substring(2,5),n.substring(5,8),n.substring(8,12),n.substring(12,14);return l(n.substring(0,2),n.substring(2,5),n.substring(5,8),n.substring(8,12),n.substring(12,14))}return!1}function a(n){return null!=n.match(/^\d{11}$/)&&u(n.substring(0,3),n.substring(3,6),n.substring(6,9),n.substring(9,11))}function u(n,t,i,r){var a,u,l=!0;u=n+t+i+r,s=u,c=s.substr(0,9);var e=s.substr(9,2),f=0;for(a=0;a<9;a++)f+=c.charAt(a)*(10-a);for(0==f&&(l=!1),(f=11-f%11)>9&&(f=0),e.charAt(0)!=f&&(l=!1),f*=2,a=0;a<9;a++)f+=c.charAt(a)*(11-a);return(f=11-f%11)>9&&(f=0),e.charAt(1)!=f&&(l=!1),l}function l(n,t,i,r,a){var u,l,e=!0;l=n+t+i+r+a,s=l,c=s.substr(0,12);var f=s.substr(12,2),v=0;for(u=0;u<12;u++)v+=c.charAt(11-u)*(2+u%8);for(0==v&&(e=!1),(v=11-v%11)>9&&(v=0),f.charAt(0)!=v&&(e=!1),v*=2,u=0;u<12;u++)v+=c.charAt(11-u)*(2+(u+1)%8);return(v=11-v%11)>9&&(v=0),f.charAt(1)!=v&&(e=!1),e}var e=null;n.fn.cpfcnpj=function(s){var u=n.extend({mask:!1,validate:"cpfcnpj",event:"focusout",handler:n(this),ifValid:null,ifInvalid:null},s);if(u.mask)if(null==jQuery().mask)u.mask=!1,console.log("jQuery mask not found.");else if("cpf"==u.validate)n(this).mask("000.000.000-00");else if("cnpj"==u.validate)n(this).mask("00.000.000/0000-00");else{var l=n(this),c={onKeyPress:function(n){var s=["000.000.000-009","00.000.000/0000-00"];msk=n.length>14?s[1]:s[0],l.mask(msk,this)}};n(this).mask("000.000.000-009",c)}return this.each(function(){var s=null,l=n(this);n(document).on(u.event,u.handler,function(){if(0==u.mask?11==l.val().length||14==l.val().length?("cpf"==u.validate?s=a(l.val()):"cnpj"==u.validate?s=r(l.val()):"cpfcnpj"==u.validate&&(a(l.val())?(s=!0,e="cpf"):r(l.val())?(s=!0,e="cnpj"):s=!1)):s=!1:14==l.val().length||18==l.val().length?"cpf"==u.validate?s=i(l.val()):"cnpj"==u.validate?s=t(l.val()):"cpfcnpj"==u.validate&&(i(l.val())?(s=!0,e="cpf"):t(l.val())?(s=!0,e="cnpj"):s=!1):s=!1,n.isFunction(u.ifValid))if(null!=s&&s){if(n.isFunction(u.ifValid)){var c=n.Callbacks();c.add(u.ifValid),c.fire(l)}}else n.isFunction(u.ifInvalid)&&u.ifInvalid(l)})})}}(jQuery);
